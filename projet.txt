# target/classes/static/index.html
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>OrganisationSim - Accueil</title>
	<link rel="icon" type="image/x-icon" href="favicon/organisation-sim.svg">
  <link rel="stylesheet" href="style/main.css">
</head>
<body>

<!-- üîó Barre de navigation globale -->
<nav class="navbar">
  <a href="index.html" class="logo">OrganisationSim</a>
  <a href="constraints.html">Cr√©er un projet</a>
  <a href="projects.html">Liste des projets</a>
</nav>

<header>
  <h1>Bienvenue sur OrganisationSim</h1>
</header>

<div class="container">
  <h2>Tableau r√©capitulatif (Diagramme de Pert simplifi√©)</h2>

  <table class="pert-table">
    <thead>
      <tr>
        <th>√âtape</th>
        <th>Responsable</th>
        <th>Dur√©e estim√©e</th>
        <th>Pr√©requis</th>
      </tr>
    </thead>
    <tbody id="pertTableBody">
      <tr>
        <td>Analyse</td>
        <td>Chef de projet</td>
        <td>3 jours</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Conception</td>
        <td>Architecte</td>
        <td>5 jours</td>
        <td>Analyse</td>
      </tr>
      <tr>
        <td>D√©veloppement</td>
        <td>√âquipe Dev</td>
        <td>10 jours</td>
        <td>Conception</td>
      </tr>
      <tr>
        <td>Recette</td>
        <td>QA</td>
        <td>4 jours</td>
        <td>D√©veloppement</td>
      </tr>
    </tbody>
  </table>
</div>

</body>
</html>

# target/classes/templates/login.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/base}"
      th:with="title='Connexion'">
<head>
    <title>Connexion</title>
</head>
<body>
<div layout:fragment="content">
    <section class="container pt-5 mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-4">
                <div class="card shadow">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0 text-center">Connexion</h4>
                    </div>
                    <div class="card-body p-4">

                        <div th:if="${param.error}" class="alert alert-danger">
                            Identifiants invalides
                        </div>

                        <form th:action="@{/login}" method="post">
                            <div class="mb-3">
                                <label for="username" class="form-label">Email</label>
                                <input type="text" class="form-control" id="username" name="email" required>
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">Mot de passe</label>
                                <input type="password" class="form-control" id="password" name="password" required>
                            </div>
                            <button type="submit" class="btn btn-success w-100">Se connecter</button>
                        </form>

												<div class="mt-3 text-center">
													<span>Pas encore de compte ?&nbsp;</span>
													<a th:href="@{/register}" class="text-success text-decoration-none">Inscrivez-vous !</a>
											</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
</body>
</html>

# target/classes/templates/plants/show.html
<!DOCTYPE html>
<html layout:decorate="~{fragments/base}" xmlns:th="http://www.thymeleaf.org">
    <div layout:fragment="content">
        <div class="container">
            <h1 class="mb-4">üå± D√©tail de la plante</h1>

            <div class="card mb-4 shadow-sm">
                <div class="card-body">
                    <h2 class="card-title" th:text="${plant.name}">Nom de la plante</h2>
                    <p class="card-text" th:text="${plant.description}">Description</p>

                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <strong>Cat√©gorie :</strong> <span th:text="${plant.category}">Cat√©gorie</span>
                        </li>
                        <li class="list-group-item">
                            <strong>Prix :</strong> <span th:text="${plant.price}">0.00</span> ‚Ç¨
                        </li>
                        <li class="list-group-item">
                            <strong>Stock disponible :</strong> <span th:text="${plant.stock}">0</span>
                        </li>
                    </ul>

                    <a href="/plants" class="btn btn-secondary">Retour √† la liste</a>
                </div>
            </div>
        </div>
    </div>
</html>

# target/classes/templates/plants/index.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{fragments/base}" th:with="title='Liste des plantes'">

<head>
	<title>Plantes</title>
</head>

<body>
	<div layout:fragment="content">
		<section class="container pt-5 mt-5">
			<div th:if="${finalCurrentUserType == 'admin'}" class="mb-3">
				<a href="/admin/plants/new" class="btn btn-primary">Ajouter une plante</a>
			</div>

			<div class="row">
				<div th:each="plant : ${plants}" class="col-md-4 mb-4">
					<div class="card h-100">
						<div class="card-body">
							<a th:href="@{/plants/{id}(id=${plant.id})}" class="stretched-link text-decoration-none text-dark">
								<h5 class="card-title" th:text="${plant.name}">Nom</h5>
								<p class="card-text" th:text="${plant.description}">Description</p>
								<p class="text-muted">Prix : <span th:text="${plant.price}">0.0</span>¬†‚Ç¨</p>
								<p class="text-muted">Stock : <span th:text="${plant.stock}">0</span></p>

								<div class="d-flex justify-content-between gap-2">
									<button type="button" class="btn  flex-grow-1 btn-success add-to-cart" th:data-id="${plant.id}"
										th:data-name="${plant.name}" th:data-price="${plant.price}">
										Ajouter au panier
									</button>
								</div>
							</a>
						</div>
					</div>
				</div>
			</div>
		</section>
		<script>
			document.addEventListener('DOMContentLoaded', () => {
				const load = () => JSON.parse(localStorage.getItem('cart') || '[]');
				const save = c => localStorage.setItem('cart', JSON.stringify(c));

				document.querySelectorAll('.add-to-cart').forEach(btn => {
					btn.addEventListener('click', e => {
						const id = btn.dataset.id;
						const name = btn.dataset.name;
						const price = parseFloat(btn.dataset.price);

						const cart = load();
						const item = cart.find(i => i.id == id);
						item ? item.qty++ : cart.push({id, name, price, qty: 1});
						save(cart);
						refreshCart();                 // fonction d√©j√† d√©finie dans base.html
					});
				});
			});
		</script>
	</div>
</body>

</html>

# target/classes/templates/register.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/base}"
      th:with="title='Inscription'">
<head>
    <title>Inscription</title>
</head>
<body>
    <div layout:fragment="content">
        <section class="container pt-5 mt-5">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card shadow">
                        <div class="card-header bg-success text-white">
                            <h4 class="mb-0">Cr√©er un compte</h4>
                        </div>
                        <div class="card-body">
                            <form th:action="@{/register}" th:object="${user}" method="post">
                                <div class="mb-3">
                                    <label class="form-label">Nom complet</label>
                                    <input type="text" class="form-control" th:field="*{name}" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Adresse email</label>
                                    <input type="email" class="form-control" th:field="*{email}" required>
                                    <small class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></small>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Mot de passe</label>
                                    <input type="password" class="form-control" th:field="*{password}" required>
                                </div>
                                <button type="submit" class="btn btn-success w-100">S'inscrire</button>
                            </form>
                            <hr>
                            <p class="text-center mb-0">
                                D√©j√† un compte ?
																&nbsp;
                                <a th:href="@{/login}" class="text-success">Se connecter</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>
</html>

# target/classes/templates/cart.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/base}"
      th:with="title='Panier'">
<head>
    <title>Panier</title>
</head>
<body>
<div layout:fragment="content">
    <section class="container pt-5 mt-5">
        <h2 class="mb-4">üõí Votre panier</h2>

        <div class="table-responsive">
            <table class="table align-middle">
                <thead>
                <tr>
                    <th>Produit</th>
                    <th>Prix¬†(‚Ç¨)</th>
                    <th>Quantit√©</th>
                    <th>Sous‚Äëtotal¬†(‚Ç¨)</th>
                    <th></th>
                </tr>
                </thead>
                <tbody id="cartBody">
                <tr id="emptyRow">
                    <td colspan="5" class="text-center">Votre panier est vide.</td>
                </tr>
                </tbody>
                <tfoot class="table-light">
                <tr>
                    <th colspan="3" class="text-end">Total&nbsp;:</th>
                    <th id="cartTotal">0.00</th>
                    <th></th>
                </tr>
                </tfoot>
            </table>
        </div>

				<div class="text-start">
					<a href="#" class="btn btn-success">Terminer la commande</a>
			</div>
    </section>
		<script>
			document.addEventListener('DOMContentLoaded', () => {
					const body   = document.getElementById('cartBody');
					const totalE = document.getElementById('cartTotal');
					const countE = document.querySelectorAll('.cart-count');

					const load = () => JSON.parse(localStorage.getItem('cart') || '[]');
					const save = c => localStorage.setItem('cart', JSON.stringify(c));

					function render() {
							const cart = load();
							body.innerHTML = '';
							let total = 0;

							if (cart.length === 0) {
									body.innerHTML = '<tr><td colspan="5" class="text-center">Votre panier est vide.</td></tr>';
							} else {
								cart.forEach((item, i) => {
									const sub = item.price * item.qty;
									total += sub;
									body.insertAdjacentHTML('beforeend', `
											<tr>
													<td>${item.name}</td>
													<td>${item.price.toFixed(2)}</td>
													<td>
														<input type="number"
																	min="1"
																	onkeydown="return event.key !== 'e' && event.key !== '-'"
																	value="${item.qty}"
																	class="form-control form-control-sm qty-input"
																	style="width:80px;" data-i="${i}">
													</td>
													<td>${sub.toFixed(2)}</td>
													<td><button class="btn btn-sm btn-danger" data-i="${i}">‚úï</button></td>
											</tr>
								`	);
								});
								body.querySelectorAll('.qty-input').forEach(input => {
									input.addEventListener('input', updateQty);
									input.addEventListener('blur', updateQty);
								});
							}
							totalE.textContent = total.toFixed(2);
							countE.forEach(e => e.textContent = cart.reduce((s, it) => s + it.qty, 0));
					}

					body.addEventListener('click', e => {
							if (e.target.matches('button[data-i]')) {
									const cart = load();
									cart.splice(e.target.dataset.i, 1);
									save(cart);
									render();
							}
					});

					function updateQty(e) {
							const i = e.target.dataset.i;
							let val = parseInt(e.target.value);

							if (isNaN(val) || val < 1) val = 1;
							e.target.value = val;

							const cart = load();
							cart[i].qty = val;
							save(cart);
							render();
					}

					render();
					body.querySelectorAll('.qty-input').forEach(input => {
							input.addEventListener('input', updateQty);
							input.addEventListener('blur', updateQty);
					});g
			});
			</script>
	</div>
</body>
</html>

# target/classes/templates/profile.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mon Profil | PlantShop</title>
    <link rel="stylesheet" href="/webjars/bootstrap/5.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div th:replace="~{fragments/base :: header}"></div>

    <main class="container my-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow">
                    <div class="card-header bg-success text-white">
                        <h2 class="h4 mb-0">Mon Profil</h2>
                    </div>
                    <div class="card-body">
                        <div class="row mb-4">
                            <div class="col-md-4 text-center">
                                <div class="rounded-circle bg-light d-flex align-items-center justify-content-center"
                                     style="width: 150px; height: 150px; margin: 0 auto;">
                                    <i class="fas fa-user fa-3x text-success"></i>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <h3 class="h5" th:text="${user.name}">Nom Utilisateur</h3>
                                <p class="text-muted" th:text="${user.email}">email@example.com</p>

                                <div class="mt-3" th:if="${user.admin}">
                                    <span class="badge bg-warning text-dark">Administrateur</span>
                                </div>
                            </div>
                        </div>

                        <div class="border-top pt-3">
                            <h4 class="h5 mb-3">Informations du compte</h4>
                            <dl class="row">
                                <dt class="col-sm-3">Nom complet</dt>
                                <dd class="col-sm-9" th:text="${user.name}">-</dd>

                                <dt class="col-sm-3">Email</dt>
                                <dd class="col-sm-9" th:text="${user.email}">-</dd>

                                <dt class="col-sm-3">Type de compte</dt>
                                <dd class="col-sm-9">
                                    <span th:if="${user.admin}">Administrateur</span>
                                    <span th:unless="${user.admin}">Utilisateur standard</span>
                                </dd>
                            </dl>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div th:replace="~{fragments/base :: footer}"></div>

    <script src="/webjars/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/a14342fe13.js" crossorigin="anonymous"></script>
</body>
</html>

# target/classes/templates/fragments/base.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PlantShop - [[${title}]]</title>

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="/webjars/bootstrap/5.3.2/css/bootstrap.min.css">

	<!-- Custom CSS -->
	<link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
	<th:block th:with="userRoleString=${userRole}">

		<script th:inline="javascript">
			document.addEventListener('DOMContentLoaded', () => {
				console.log('userRoleString = [[${userRoleString}]]');
			});
		</script>
		<!-- Navbar -->
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4 fixed-top">
			<div class="container">
				<a class="navbar-brand" href="/">üåø PlantShop</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav me-auto"></ul>
					<ul class="navbar-nav">
						<li th:if="${loggedUserName}" class="navbar-text text-white me-2" th:text="${loggedUserName}">
						</li>
						<li
							th:if="${userRoleString == 'visitor' || userRoleString == 'user' || userRoleString == 'admin'}"
							class="nav-item">
							<a class="nav-link" href="/cart">Panier (<span class="cart-count">0</span>)</a>
						</li>
						<li th:if="${userRoleString == 'visitor'}" class="nav-item">
							<a class="nav-link" href="/login">Connexion</a>
						</li>
						<li th:if="${userRoleString == 'visitor'}" class="nav-item">
							<a class="nav-link" href="/register">Inscription</a>
						</li>
						<li th:if="${userRoleString == 'user' || userRoleString == 'admin'}" class="nav-item">
							<a class="nav-link" href="/my_profile">Mon Profil</a>
						</li>
						<li th:if="${userRoleString == 'user' || userRoleString == 'admin'}" class="nav-item">
							<a class="nav-link" href="/orders">Mes Commandes</a>
						</li>

						<li th:if="${userRoleString == 'admin'}" class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
								Admin
							</a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="/admin/plants">Gestion Plantes</a></li>
								<li><a class="dropdown-item" href="/admin/users">Gestion Utilisateurs</a></li>
							</ul>
						</li>

						<li th:if="${userRoleString == 'user' or userRoleString == 'admin'}" class="nav-item">
							<form th:action="@{/logout}" method="post">
								<button type="submit" class="nav-link btn btn-link">D√©connexion</button>
							</form>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<div class="container">
			<!-- Messages flash -->
			<div th:if="${message}" class="alert alert-success" th:text="${message}"></div>
			<div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

			<!-- Contenu principal -->
			<div layout:fragment="content"></div>
		</div>

		<!-- Bootstrap JS -->
		<script src="/webjars/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
		<script src="/js/app.js"></script>
		<script th:inline="javascript">
			function refreshCart() {
				const total = (JSON.parse(localStorage.getItem('cart') || '[]'))
					.reduce((s, i) => s + i.qty, 0);
				document.querySelectorAll('.cart-count').forEach(e => e.textContent = total);
			}
			refreshCart();
			window.addEventListener('storage', e => e.key === 'cart' && refreshCart());
		</script>
	</th:block> <!-- Fin du bloc de variables calcul√©es -->
	</th:block> <!-- Fin du bloc de s√©curit√© -->
</body>

</html>

# target/classes/templates/fragments/navbar.html
<!-- templates/fragments/navbar.html -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4 fixed-top"
     th:fragment="navbar"                         <!-- ‚Üê nom du fragment -->
     xmlns:th="http://www.thymeleaf.org">

  <div class="container">
    <a class="navbar-brand" href="/">üåø¬†PlantShop</a>

    <!-- burger -->
    <button class="navbar-toggler" type="button"
            data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">

      <ul class="navbar-nav me-auto"></ul> <!-- espace gauche -->

      <!-- on r√©cup√®re la variable calcul√©e dans GlobalUserTypeAdvice -->
      <ul class="navbar-nav"
          th:with="role=${userRole}, name=${#authentication.principal?.name}">

        <li th:if="${name}" class="navbar-text text-white me-2"
            th:text="${name}"></li>

        <li class="nav-item">
          <a class="nav-link" href="/cart">Panier
            (<span class="cart-count">0</span>)
          </a>
        </li>

        <!-- VISITEUR -->
        <li th:if="${role == 'visitor'}" class="nav-item">
          <a class="nav-link" href="/login">Connexion</a>
        </li>
        <li th:if="${role == 'visitor'}" class="nav-item">
          <a class="nav-link" href="/register">Inscription</a>
        </li>

        <!-- UTILISATEUR / ADMIN -->
        <li th:if="${role == 'user' || role == 'admin'}" class="nav-item">
          <a class="nav-link" href="/my_profile">Mon¬†profil</a>
        </li>
        <li th:if="${role == 'user' || role == 'admin'}" class="nav-item">
          <a class="nav-link" href="/orders">Mes¬†commandes</a>
        </li>

        <!-- ADMIN -->
        <li th:if="${role == 'admin'}" class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button"
             data-bs-toggle="dropdown">Admin</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/admin/plants">Gestion¬†plantes</a></li>
            <li><a class="dropdown-item" href="/admin/users">Gestion¬†utilisateurs</a></li>
          </ul>
        </li>

        <!-- D√©connexion -->
        <li th:if="${role == 'user' || role == 'admin'}" class="nav-item">
          <form th:action="@{/logout}" method="post">
            <button type="submit" class="nav-link btn btn-link">D√©connexion</button>
          </form>
        </li>
      </ul>
    </div>
  </div>
</nav>

# target/maven-archiver/pom.properties
artifactId=plant-shop-jpa-spring-boot-hibernate-security
groupId=com.planteshop
version=1.0.0

# src/main/resources/static/index.html
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>OrganisationSim - Accueil</title>
	<link rel="icon" type="image/x-icon" href="favicon/organisation-sim.svg">
  <link rel="stylesheet" href="style/main.css">
</head>
<body>

<!-- üîó Barre de navigation globale -->
<nav class="navbar">
  <a href="index.html" class="logo">OrganisationSim</a>
  <a href="constraints.html">Cr√©er un projet</a>
  <a href="projects.html">Liste des projets</a>
</nav>

<header>
  <h1>Bienvenue sur OrganisationSim</h1>
</header>

<div class="container">
  <h2>Tableau r√©capitulatif (Diagramme de Pert simplifi√©)</h2>

  <table class="pert-table">
    <thead>
      <tr>
        <th>√âtape</th>
        <th>Responsable</th>
        <th>Dur√©e estim√©e</th>
        <th>Pr√©requis</th>
      </tr>
    </thead>
    <tbody id="pertTableBody">
      <tr>
        <td>Analyse</td>
        <td>Chef de projet</td>
        <td>3 jours</td>
        <td>-</td>
      </tr>
      <tr>
        <td>Conception</td>
        <td>Architecte</td>
        <td>5 jours</td>
        <td>Analyse</td>
      </tr>
      <tr>
        <td>D√©veloppement</td>
        <td>√âquipe Dev</td>
        <td>10 jours</td>
        <td>Conception</td>
      </tr>
      <tr>
        <td>Recette</td>
        <td>QA</td>
        <td>4 jours</td>
        <td>D√©veloppement</td>
      </tr>
    </tbody>
  </table>
</div>

</body>
</html>

# src/main/resources/templates/login.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/base}"
      th:with="title='Connexion'">
<head>
    <title>Connexion</title>
</head>
<body>
<div layout:fragment="content">
    <section class="container pt-5 mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-4">
                <div class="card shadow">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0 text-center">Connexion</h4>
                    </div>
                    <div class="card-body p-4">

                        <div th:if="${param.error}" class="alert alert-danger">
                            Identifiants invalides
                        </div>

                        <form th:action="@{/login}" method="post">
                            <div class="mb-3">
                                <label for="username" class="form-label">Email</label>
                                <input type="text" class="form-control" id="username" name="email" required>
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">Mot de passe</label>
                                <input type="password" class="form-control" id="password" name="password" required>
                            </div>
                            <button type="submit" class="btn btn-success w-100">Se connecter</button>
                        </form>

												<div class="mt-3 text-center">
													<span>Pas encore de compte ?&nbsp;</span>
													<a th:href="@{/register}" class="text-success text-decoration-none">Inscrivez-vous !</a>
											</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
</body>
</html>

# src/main/resources/templates/plants/show.html
<!DOCTYPE html>
<html layout:decorate="~{fragments/base}" xmlns:th="http://www.thymeleaf.org">
    <div layout:fragment="content">
        <div class="container">
            <h1 class="mb-4">üå± D√©tail de la plante</h1>

            <div class="card mb-4 shadow-sm">
                <div class="card-body">
                    <h2 class="card-title" th:text="${plant.name}">Nom de la plante</h2>
                    <p class="card-text" th:text="${plant.description}">Description</p>

                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">
                            <strong>Cat√©gorie :</strong> <span th:text="${plant.category}">Cat√©gorie</span>
                        </li>
                        <li class="list-group-item">
                            <strong>Prix :</strong> <span th:text="${plant.price}">0.00</span> ‚Ç¨
                        </li>
                        <li class="list-group-item">
                            <strong>Stock disponible :</strong> <span th:text="${plant.stock}">0</span>
                        </li>
                    </ul>

                    <a href="/plants" class="btn btn-secondary">Retour √† la liste</a>
                </div>
            </div>
        </div>
    </div>
</html>

# src/main/resources/templates/plants/index.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{fragments/base}" th:with="title='Liste des plantes'">

<head>
	<title>Plantes</title>
</head>

<body>
	<div layout:fragment="content">
		<section class="container pt-5 mt-5">
			<div th:if="${finalCurrentUserType == 'admin'}" class="mb-3">
				<a href="/admin/plants/new" class="btn btn-primary">Ajouter une plante</a>
			</div>

			<div class="row">
				<div th:each="plant : ${plants}" class="col-md-4 mb-4">
					<div class="card h-100">
						<div class="card-body">
							<a th:href="@{/plants/{id}(id=${plant.id})}" class="stretched-link text-decoration-none text-dark">
								<h5 class="card-title" th:text="${plant.name}">Nom</h5>
								<p class="card-text" th:text="${plant.description}">Description</p>
								<p class="text-muted">Prix : <span th:text="${plant.price}">0.0</span>¬†‚Ç¨</p>
								<p class="text-muted">Stock : <span th:text="${plant.stock}">0</span></p>

								<div class="d-flex justify-content-between gap-2">
									<button type="button" class="btn  flex-grow-1 btn-success add-to-cart" th:data-id="${plant.id}"
										th:data-name="${plant.name}" th:data-price="${plant.price}">
										Ajouter au panier
									</button>
								</div>
							</a>
						</div>
					</div>
				</div>
			</div>
		</section>
		<script>
			document.addEventListener('DOMContentLoaded', () => {
				const load = () => JSON.parse(localStorage.getItem('cart') || '[]');
				const save = c => localStorage.setItem('cart', JSON.stringify(c));

				document.querySelectorAll('.add-to-cart').forEach(btn => {
					btn.addEventListener('click', e => {
						const id = btn.dataset.id;
						const name = btn.dataset.name;
						const price = parseFloat(btn.dataset.price);

						const cart = load();
						const item = cart.find(i => i.id == id);
						item ? item.qty++ : cart.push({id, name, price, qty: 1});
						save(cart);
						refreshCart();                 // fonction d√©j√† d√©finie dans base.html
					});
				});
			});
		</script>
	</div>
</body>

</html>

# src/main/resources/templates/register.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/base}"
      th:with="title='Inscription'">
<head>
    <title>Inscription</title>
</head>
<body>
    <div layout:fragment="content">
        <section class="container pt-5 mt-5">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card shadow">
                        <div class="card-header bg-success text-white">
                            <h4 class="mb-0">Cr√©er un compte</h4>
                        </div>
                        <div class="card-body">
                            <form th:action="@{/register}" th:object="${user}" method="post">
                                <div class="mb-3">
                                    <label class="form-label">Nom complet</label>
                                    <input type="text" class="form-control" th:field="*{name}" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Adresse email</label>
                                    <input type="email" class="form-control" th:field="*{email}" required>
                                    <small class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></small>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Mot de passe</label>
                                    <input type="password" class="form-control" th:field="*{password}" required>
                                </div>
                                <button type="submit" class="btn btn-success w-100">S'inscrire</button>
                            </form>
                            <hr>
                            <p class="text-center mb-0">
                                D√©j√† un compte ?
																&nbsp;
                                <a th:href="@{/login}" class="text-success">Se connecter</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>
</html>

# src/main/resources/templates/cart.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/base}"
      th:with="title='Panier'">
<head>
    <title>Panier</title>
</head>
<body>
<div layout:fragment="content">
    <section class="container pt-5 mt-5">
        <h2 class="mb-4">üõí Votre panier</h2>

        <div class="table-responsive">
            <table class="table align-middle">
                <thead>
                <tr>
                    <th>Produit</th>
                    <th>Prix¬†(‚Ç¨)</th>
                    <th>Quantit√©</th>
                    <th>Sous‚Äëtotal¬†(‚Ç¨)</th>
                    <th></th>
                </tr>
                </thead>
                <tbody id="cartBody">
                <tr id="emptyRow">
                    <td colspan="5" class="text-center">Votre panier est vide.</td>
                </tr>
                </tbody>
                <tfoot class="table-light">
                <tr>
                    <th colspan="3" class="text-end">Total&nbsp;:</th>
                    <th id="cartTotal">0.00</th>
                    <th></th>
                </tr>
                </tfoot>
            </table>
        </div>

				<div class="text-start">
					<a href="#" class="btn btn-success">Terminer la commande</a>
			</div>
    </section>
		<script>
			document.addEventListener('DOMContentLoaded', () => {
					const body   = document.getElementById('cartBody');
					const totalE = document.getElementById('cartTotal');
					const countE = document.querySelectorAll('.cart-count');

					const load = () => JSON.parse(localStorage.getItem('cart') || '[]');
					const save = c => localStorage.setItem('cart', JSON.stringify(c));

					function render() {
							const cart = load();
							body.innerHTML = '';
							let total = 0;

							if (cart.length === 0) {
									body.innerHTML = '<tr><td colspan="5" class="text-center">Votre panier est vide.</td></tr>';
							} else {
								cart.forEach((item, i) => {
									const sub = item.price * item.qty;
									total += sub;
									body.insertAdjacentHTML('beforeend', `
											<tr>
													<td>${item.name}</td>
													<td>${item.price.toFixed(2)}</td>
													<td>
														<input type="number"
																	min="1"
																	onkeydown="return event.key !== 'e' && event.key !== '-'"
																	value="${item.qty}"
																	class="form-control form-control-sm qty-input"
																	style="width:80px;" data-i="${i}">
													</td>
													<td>${sub.toFixed(2)}</td>
													<td><button class="btn btn-sm btn-danger" data-i="${i}">‚úï</button></td>
											</tr>
								`	);
								});
								body.querySelectorAll('.qty-input').forEach(input => {
									input.addEventListener('input', updateQty);
									input.addEventListener('blur', updateQty);
								});
							}
							totalE.textContent = total.toFixed(2);
							countE.forEach(e => e.textContent = cart.reduce((s, it) => s + it.qty, 0));
					}

					body.addEventListener('click', e => {
							if (e.target.matches('button[data-i]')) {
									const cart = load();
									cart.splice(e.target.dataset.i, 1);
									save(cart);
									render();
							}
					});

					function updateQty(e) {
							const i = e.target.dataset.i;
							let val = parseInt(e.target.value);

							if (isNaN(val) || val < 1) val = 1;
							e.target.value = val;

							const cart = load();
							cart[i].qty = val;
							save(cart);
							render();
					}

					render();
					body.querySelectorAll('.qty-input').forEach(input => {
							input.addEventListener('input', updateQty);
							input.addEventListener('blur', updateQty);
					});g
			});
			</script>
	</div>
</body>
</html>

# src/main/resources/templates/profile.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mon Profil | PlantShop</title>
    <link rel="stylesheet" href="/webjars/bootstrap/5.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div th:replace="~{fragments/base :: header}"></div>

    <main class="container my-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card shadow">
                    <div class="card-header bg-success text-white">
                        <h2 class="h4 mb-0">Mon Profil</h2>
                    </div>
                    <div class="card-body">
                        <div class="row mb-4">
                            <div class="col-md-4 text-center">
                                <div class="rounded-circle bg-light d-flex align-items-center justify-content-center"
                                     style="width: 150px; height: 150px; margin: 0 auto;">
                                    <i class="fas fa-user fa-3x text-success"></i>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <h3 class="h5" th:text="${user.name}">Nom Utilisateur</h3>
                                <p class="text-muted" th:text="${user.email}">email@example.com</p>

                                <div class="mt-3" th:if="${user.admin}">
                                    <span class="badge bg-warning text-dark">Administrateur</span>
                                </div>
                            </div>
                        </div>

                        <div class="border-top pt-3">
                            <h4 class="h5 mb-3">Informations du compte</h4>
                            <dl class="row">
                                <dt class="col-sm-3">Nom complet</dt>
                                <dd class="col-sm-9" th:text="${user.name}">-</dd>

                                <dt class="col-sm-3">Email</dt>
                                <dd class="col-sm-9" th:text="${user.email}">-</dd>

                                <dt class="col-sm-3">Type de compte</dt>
                                <dd class="col-sm-9">
                                    <span th:if="${user.admin}">Administrateur</span>
                                    <span th:unless="${user.admin}">Utilisateur standard</span>
                                </dd>
                            </dl>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div th:replace="~{fragments/base :: footer}"></div>

    <script src="/webjars/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/a14342fe13.js" crossorigin="anonymous"></script>
</body>
</html>

# src/main/resources/templates/fragments/base.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PlantShop - [[${title}]]</title>

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="/webjars/bootstrap/5.3.2/css/bootstrap.min.css">

	<!-- Custom CSS -->
	<link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
	<th:block th:with="userRoleString=${userRole}">

		<script th:inline="javascript">
			document.addEventListener('DOMContentLoaded', () => {
				console.log('userRoleString = [[${userRoleString}]]');
			});
		</script>
		<!-- Navbar -->
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4 fixed-top">
			<div class="container">
				<a class="navbar-brand" href="/">üåø PlantShop</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav me-auto"></ul>
					<ul class="navbar-nav">
						<li th:if="${loggedUserName}" class="navbar-text text-white me-2" th:text="${loggedUserName}">
						</li>
						<li
							th:if="${userRoleString == 'visitor' || userRoleString == 'user' || userRoleString == 'admin'}"
							class="nav-item">
							<a class="nav-link" href="/cart">Panier (<span class="cart-count">0</span>)</a>
						</li>
						<li th:if="${userRoleString == 'visitor'}" class="nav-item">
							<a class="nav-link" href="/login">Connexion</a>
						</li>
						<li th:if="${userRoleString == 'visitor'}" class="nav-item">
							<a class="nav-link" href="/register">Inscription</a>
						</li>
						<li th:if="${userRoleString == 'user' || userRoleString == 'admin'}" class="nav-item">
							<a class="nav-link" href="/my_profile">Mon Profil</a>
						</li>
						<li th:if="${userRoleString == 'user' || userRoleString == 'admin'}" class="nav-item">
							<a class="nav-link" href="/orders">Mes Commandes</a>
						</li>

						<li th:if="${userRoleString == 'admin'}" class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
								Admin
							</a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="/admin/plants">Gestion Plantes</a></li>
								<li><a class="dropdown-item" href="/admin/users">Gestion Utilisateurs</a></li>
							</ul>
						</li>

						<li th:if="${userRoleString == 'user' or userRoleString == 'admin'}" class="nav-item">
							<form th:action="@{/logout}" method="post">
								<button type="submit" class="nav-link btn btn-link">D√©connexion</button>
							</form>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<div class="container">
			<!-- Messages flash -->
			<div th:if="${message}" class="alert alert-success" th:text="${message}"></div>
			<div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

			<!-- Contenu principal -->
			<div layout:fragment="content"></div>
		</div>

		<!-- Bootstrap JS -->
		<script src="/webjars/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
		<script src="/js/app.js"></script>
		<script th:inline="javascript">
			function refreshCart() {
				const total = (JSON.parse(localStorage.getItem('cart') || '[]'))
					.reduce((s, i) => s + i.qty, 0);
				document.querySelectorAll('.cart-count').forEach(e => e.textContent = total);
			}
			refreshCart();
			window.addEventListener('storage', e => e.key === 'cart' && refreshCart());
		</script>
	</th:block> <!-- Fin du bloc de variables calcul√©es -->
	</th:block> <!-- Fin du bloc de s√©curit√© -->
</body>

</html>

# src/main/resources/templates/fragments/navbar.html
<!-- templates/fragments/navbar.html -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4 fixed-top"
     th:fragment="navbar"                         <!-- ‚Üê nom du fragment -->
     xmlns:th="http://www.thymeleaf.org">

  <div class="container">
    <a class="navbar-brand" href="/">üåø¬†PlantShop</a>

    <!-- burger -->
    <button class="navbar-toggler" type="button"
            data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">

      <ul class="navbar-nav me-auto"></ul> <!-- espace gauche -->

      <!-- on r√©cup√®re la variable calcul√©e dans GlobalUserTypeAdvice -->
      <ul class="navbar-nav"
          th:with="role=${userRole}, name=${#authentication.principal?.name}">

        <li th:if="${name}" class="navbar-text text-white me-2"
            th:text="${name}"></li>

        <li class="nav-item">
          <a class="nav-link" href="/cart">Panier
            (<span class="cart-count">0</span>)
          </a>
        </li>

        <!-- VISITEUR -->
        <li th:if="${role == 'visitor'}" class="nav-item">
          <a class="nav-link" href="/login">Connexion</a>
        </li>
        <li th:if="${role == 'visitor'}" class="nav-item">
          <a class="nav-link" href="/register">Inscription</a>
        </li>

        <!-- UTILISATEUR / ADMIN -->
        <li th:if="${role == 'user' || role == 'admin'}" class="nav-item">
          <a class="nav-link" href="/my_profile">Mon¬†profil</a>
        </li>
        <li th:if="${role == 'user' || role == 'admin'}" class="nav-item">
          <a class="nav-link" href="/orders">Mes¬†commandes</a>
        </li>

        <!-- ADMIN -->
        <li th:if="${role == 'admin'}" class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button"
             data-bs-toggle="dropdown">Admin</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/admin/plants">Gestion¬†plantes</a></li>
            <li><a class="dropdown-item" href="/admin/users">Gestion¬†utilisateurs</a></li>
          </ul>
        </li>

        <!-- D√©connexion -->
        <li th:if="${role == 'user' || role == 'admin'}" class="nav-item">
          <form th:action="@{/logout}" method="post">
            <button type="submit" class="nav-link btn btn-link">D√©connexion</button>
          </form>
        </li>
      </ul>
    </div>
  </div>
</nav>

# src/main/java/com/planteshop/repository/OrderRepository.java
package com.planteshop.repository;

import com.planteshop.model.entity.CustomerOrder;
import com.planteshop.model.entity.User;
import org.springframework.data.jpa.repository.JpaRepository;
import java.util.List;

public interface OrderRepository extends JpaRepository<CustomerOrder, Long> {
    List<CustomerOrder> findByUser(User user);
}

# src/main/java/com/planteshop/repository/UserRepository.java
package com.planteshop.repository;

import com.planteshop.model.entity.User;
import org.springframework.data.jpa.repository.JpaRepository;
import java.util.Optional;

public interface UserRepository extends JpaRepository<User, Long> {
    Optional<User> findByEmail(String email);
}

# src/main/java/com/planteshop/repository/PlantRepository.java
package com.planteshop.repository;

import com.planteshop.model.entity.Plant;
import org.springframework.data.jpa.repository.JpaRepository;

public interface PlantRepository extends JpaRepository<Plant, Long> {
}

# src/main/java/com/planteshop/model/enums/RoleType.java
package com.planteshop.model.enums;

public enum RoleType {
    VISITOR,
    USER,
    ADMIN
}

# src/main/java/com/planteshop/model/entity/CustomerOrder.java
package com.planteshop.model.entity;

import jakarta.persistence.*;
import java.time.LocalDateTime;
import java.util.List;

@Entity
@Table(name = "orders")
public class CustomerOrder {
    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private Double totalPrice;
    private String status;
    private LocalDateTime createdAt;

    @ManyToOne
    @JoinColumn(name = "user_id")
    private User user;

    @OneToMany(mappedBy = "order", cascade = CascadeType.ALL)
    private List<OrderItem> items;

    // Getters, setters
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }
    public Double getTotalPrice() { return totalPrice; }
    public void setTotalPrice(Double totalPrice) { this.totalPrice = totalPrice; }
    public String getStatus() { return status; }
    public void setStatus(String status) { this.status = status; }
    public LocalDateTime getCreatedAt() { return createdAt; }
    public void setCreatedAt(LocalDateTime createdAt) { this.createdAt = createdAt; }
    public User getUser() { return user; }
    public void setUser(User user) { this.user = user; }
    public List<OrderItem> getItems() { return items; }
    public void setItems(List<OrderItem> items) { this.items = items; }
}

# src/main/java/com/planteshop/model/entity/OrderItem.java
package com.planteshop.model.entity;

import jakarta.persistence.*;

@Entity
@Table(name = "order_items")
public class OrderItem {
    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private Integer quantity;

    @ManyToOne
    @JoinColumn(name = "plant_id")
    private Plant plant;

    @ManyToOne
    @JoinColumn(name = "order_id")
    private CustomerOrder order;

    // Getters, setters
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }
    public Integer getQuantity() { return quantity; }
    public void setQuantity(Integer quantity) { this.quantity = quantity; }
    public Plant getPlant() { return plant; }
    public void setPlant(Plant plant) { this.plant = plant; }
    public CustomerOrder getOrder() { return order; }
    public void setOrder(CustomerOrder order) { this.order = order; }
}

# src/main/java/com/planteshop/model/entity/User.java
package com.planteshop.model.entity;

import com.planteshop.model.enums.RoleType;
import jakarta.persistence.*;

import java.util.Collection;
import java.util.List;

import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.userdetails.UserDetails;

@Entity
@Table(name = "users")
public class User implements UserDetails {
    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;
    private String email;
    private String password;

    @Enumerated(EnumType.STRING)
    private RoleType role;

    @OneToMany(mappedBy = "user")
    private List<CustomerOrder> orders;

		@Override
    public Collection<? extends GrantedAuthority> getAuthorities() {
        return List.of(new SimpleGrantedAuthority("ROLE_" + role.name()));
    }
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    public String getEmail() { return email; }
    public void setEmail(String email) { this.email = email; }
    public String getPassword() { return password; }
    public void setPassword(String password) { this.password = password; }
    public RoleType getRole() { return role; }
    public void setRole(RoleType role) { this.role = role; }
    public List<CustomerOrder> getOrders() { return orders; }
    public void setOrders(List<CustomerOrder> orders) { this.orders = orders; }
    @Override public String getUsername() { return email; }
    @Override public boolean isAccountNonExpired() { return true; }
    @Override public boolean isAccountNonLocked() { return true; }
    @Override public boolean isCredentialsNonExpired() { return true; }
    @Override public boolean isEnabled() { return true; }
}

# src/main/java/com/planteshop/model/entity/Plant.java
package com.planteshop.model.entity;

import jakarta.persistence.*;

@Entity
public class Plant {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String description;
    private Double price;
    private String category;
    private Integer stock;

    // Getters/Setters
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    public String getDescription() { return description; }
    public void setDescription(String description) { this.description = description; }
    public Double getPrice() { return price; }
    public void setPrice(Double price) { this.price = price; }
    public String getCategory() { return category; }
    public void setCategory(String category) { this.category = category; }
    public Integer getStock() { return stock; }
    public void setStock(Integer stock) { this.stock = stock; }
}

# src/main/java/com/planteshop/service/impl/UserDetailsServiceImpl.java
package com.planteshop.service.impl;

import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;

import com.planteshop.model.entity.User;
import com.planteshop.repository.UserRepository;

@Service
public class UserDetailsServiceImpl implements UserDetailsService {

    private final UserRepository userRepository;

    public UserDetailsServiceImpl(UserRepository userRepository) {
        this.userRepository = userRepository;
    }

		public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {
			return userRepository.findByEmail(email)
						 .orElseThrow(() -> new UsernameNotFoundException("Utilisateur non trouv√©"));
	}
}

# src/main/java/com/planteshop/controller/api/ApiPlantController.java
package com.planteshop.controller.api;

import com.planteshop.model.entity.Plant;
import com.planteshop.repository.PlantRepository;
import org.springframework.web.bind.annotation.*;
import java.util.List;

@RestController
@RequestMapping("/api/plants")
public class ApiPlantController {
    private final PlantRepository plantRepository;

    public ApiPlantController(PlantRepository plantRepository) {
        this.plantRepository = plantRepository;
    }

    @GetMapping
    public List<Plant> getAllPlants() {
        return plantRepository.findAll();
    }

    @GetMapping("/{id}")
    public Plant getPlantById(@PathVariable Long id) {
        return plantRepository.findById(id).orElse(null);
    }

    @PostMapping
    public Plant addPlant(@RequestBody Plant plant) {
        return plantRepository.save(plant);
    }

    @PutMapping("/{id}")
    public Plant updatePlant(@PathVariable Long id, @RequestBody Plant plant) {
        plant.setId(id);
        return plantRepository.save(plant);
    }

    @DeleteMapping("/{id}")
    public void deletePlant(@PathVariable Long id) {
        plantRepository.deleteById(id);
    }
}

# src/main/java/com/planteshop/controller/web/RequiredArgsConstructor.java
package com.planteshop.controller.web;

public @interface RequiredArgsConstructor {

}

# src/main/java/com/planteshop/controller/web/ProfileController.java
package com.planteshop.controller.web;

import org.springframework.security.core.annotation.AuthenticationPrincipal;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;

import com.planteshop.model.entity.User;
import com.planteshop.util.StringUtils;

@Controller
public class ProfileController {

    @GetMapping("/my_profile")
    public String profile(@AuthenticationPrincipal User user, Model model) {
        model.addAttribute("user", user);
        model.addAttribute("displayName", StringUtils.toCapitalCase(user.getName()));
        return "profile";
    }
}

# src/main/java/com/planteshop/controller/web/LoginController.java
package com.planteshop.controller.web;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class LoginController {

    @GetMapping("/login")
    public String login() {
        return "login"; // Correspond √† src/main/resources/templates/login.html
    }
}

# src/main/java/com/planteshop/controller/web/CartController.java
package com.planteshop.controller.web;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class CartController {

    @GetMapping("/cart")
    public String cart() {
        return "cart";
    }
}

# src/main/java/com/planteshop/controller/web/WebPlantController.java
package com.planteshop.controller.web;

import com.planteshop.repository.PlantRepository;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;

@Controller
public class WebPlantController {
    private final PlantRepository plantRepository;

    public WebPlantController(PlantRepository plantRepository) {
        this.plantRepository = plantRepository;
    }

    @GetMapping("/")
    public String home() {
        return "redirect:/plants";
    }

    @GetMapping("/plants")
    public String index(Model model) {
        model.addAttribute("plants", plantRepository.findAll());
        return "plants/index";
    }

    @GetMapping("/plants/{id}")
    public String show(@PathVariable Long id, Model model) {
        plantRepository.findById(id).ifPresent(plant -> model.addAttribute("plant", plant));
        return "plants/show";
    }
}

# src/main/java/com/planteshop/controller/web/RegistrationController.java
package com.planteshop.controller.web;

import com.planteshop.model.entity.User;
import com.planteshop.model.enums.RoleType;
import com.planteshop.repository.UserRepository;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.validation.BindingResult;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;

@Controller
public class RegistrationController {
    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;

    public RegistrationController(UserRepository userRepository, PasswordEncoder passwordEncoder) {
        this.userRepository = userRepository;
        this.passwordEncoder = passwordEncoder;
    }

    @GetMapping("/register")
    public String showRegistrationForm(Model model) {
        model.addAttribute("user", new User());
        return "register";
    }

    @PostMapping("/register")
    public String registerUser(@ModelAttribute("user") User user, BindingResult result, Model model) {
        if (userRepository.findByEmail(user.getEmail()).isPresent()) {
            result.rejectValue("email", "error.user", "Cet email est d√©j√† utilis√©");
        }

        if (result.hasErrors()) {
            return "register";
        }

        user.setPassword(passwordEncoder.encode(user.getPassword()));
        user.setRole(RoleType.USER);
        userRepository.save(user);

        return "redirect:/login?registered";
    }
}

# src/main/java/com/planteshop/controller/GlobalUserTypeAdvice.java
package com.planteshop.controller;

import com.planteshop.model.entity.User;
import org.springframework.security.core.Authentication;
import org.springframework.security.authentication.AnonymousAuthenticationToken;

import org.springframework.web.bind.annotation.ControllerAdvice;
import org.springframework.web.bind.annotation.ModelAttribute;

@ControllerAdvice
public class GlobalUserTypeAdvice {
	@ModelAttribute("userRole")
	public String userRole(Authentication authentication) {

			if (authentication == null                       // pas de session
					|| !authentication.isAuthenticated()         // pas encore valid√©e
					|| authentication instanceof AnonymousAuthenticationToken) {
					return "visitor";
			}

			// on sait qu‚Äôon a notre entit√© User comme Principal
			User user = (User) authentication.getPrincipal();
			return user.getRole().name().toLowerCase();
	}
}

# src/main/java/com/planteshop/config/SecurityConfig.java
package com.planteshop.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.security.web.SecurityFilterChain;

@Configuration
@EnableWebSecurity
public class SecurityConfig {

	@Bean
	public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
		http
				.csrf(csrf -> csrf.disable())
				.authorizeHttpRequests(auth -> auth
						.requestMatchers(
								"/",
								"/favicon.svg",
								"/favicon.ico",
								"/plants",
								"/plants/**",
								"/css/**",
								"/js/**",
								"/webjars/**",
								"/login",

								"/register",
								"/api/plants/**",
								"/cart/**")

						.permitAll()
						.requestMatchers("/admin/**").hasRole("ADMIN")
						.requestMatchers("/orders/**", "/my_profile/**").authenticated()
						.anyRequest().permitAll() // Modifi√© pour permettre l'acc√®s √† tout le reste
				)
				.formLogin(form -> form
						.loginPage("/login")
						.usernameParameter("email")
						.defaultSuccessUrl("/plants") // Page apr√®s login r√©ussi
						.permitAll())
				.logout(logout -> logout
						.logoutSuccessUrl("/") // Page apr√®s logout
						.permitAll());

		return http.build();
	}

	@Bean
	public PasswordEncoder passwordEncoder() {
		return new BCryptPasswordEncoder();
	}
}

# src/main/java/com/planteshop/seed/DatabaseSeeder.java
package com.planteshop.seed;

import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import org.springframework.boot.CommandLineRunner;
import org.springframework.context.annotation.Profile;
import org.springframework.security.crypto.password.PasswordEncoder;
import org.springframework.stereotype.Component;

import com.planteshop.model.entity.Plant;
import com.planteshop.model.entity.User;
import com.planteshop.model.enums.RoleType;
import com.planteshop.repository.PlantRepository;
import com.planteshop.repository.UserRepository;

import net.datafaker.Faker;

@Component
@Profile("seed")
public class DatabaseSeeder implements CommandLineRunner {

    private final PlantRepository plantRepository;
    private final UserRepository userRepository;
    private final PasswordEncoder passwordEncoder;
    private final Faker faker = new Faker();

    private final List<Credential> credentials = new ArrayList<>();

    private static final List<String> PLANT_NAMES = Arrays.asList(
        "Rose", "Tulipe", "Lavande", "Orchid√©e", "Basilic",
        "Menthe", "Pivoine", "Tournesol", "Cactus", "Bambou"
    );
    private static final List<String> PLANT_CATEGORIES = Arrays.asList("int√©rieur", "ext√©rieur");

    private static final int NB_PLANTS = 30;
    private static final int NB_ADMINS = 3;
    private static final int NB_USERS = 15;

    public DatabaseSeeder(PlantRepository plantRepository,
                           UserRepository userRepository,
                           PasswordEncoder passwordEncoder) {
        this.plantRepository = plantRepository;
        this.userRepository = userRepository;
        this.passwordEncoder = passwordEncoder;
    }

    @Override
    public void run(String... args) throws Exception {
        if (plantRepository.count() == 0 && userRepository.count() == 0) {
            List<User> users = createUsers();
            createPlants();
            generateUsersFile();
            System.out.println("Database seeded successfully!");
        }
    }

    private List<User> createUsers() {
        List<User> users = new ArrayList<>();

        for (int i = 0; i < NB_ADMINS; i++) {
            users.add(createUser(true));
        }

        for (int i = 0; i < NB_USERS; i++) {
            users.add(createUser(false));
        }

        return userRepository.saveAll(users);
    }

    private User createUser(boolean isAdmin) {
        String name = faker.name().fullName();
        String email = generateEmailFromName(name);
        String rawPassword = faker.color().name().replaceAll("\\s+", "").toLowerCase()
                             + faker.animal().name().replaceAll("\\s+", "").toLowerCase()
                             + faker.number().numberBetween(10, 99);

        User user = new User();
        user.setName(name);
        user.setEmail(email);
        user.setPassword(passwordEncoder.encode(rawPassword));
        user.setRole(isAdmin ? RoleType.ADMIN : RoleType.USER);

        credentials.add(new Credential(email, rawPassword, isAdmin));
				System.err.println("DEBUG : üìù Cr√©√© : " + email + " | " + rawPassword + " | role=" + (isAdmin ? "ADMIN" : "USER"));

        return user;
    }

    private String generateEmailFromName(String name) {
        String slug = name.trim().toLowerCase().replaceAll("[^a-z ]", "").replaceAll("\\s+", ".");
        return slug + "@planteshop.com";
    }

    private void createPlants() {
        List<Plant> plants = new ArrayList<>();

        for (int i = 0; i < NB_PLANTS; i++) {
            Plant plant = new Plant();
            plant.setName(PLANT_NAMES.get(i % PLANT_NAMES.size()) + " " + (i + 1));
            plant.setDescription("Magnifique " + PLANT_NAMES.get(i % PLANT_NAMES.size()).toLowerCase());
            plant.setPrice(5 + (i * 2.5));
            plant.setCategory(PLANT_CATEGORIES.get(i % PLANT_CATEGORIES.size()));
            plant.setStock(10 + i);
            plants.add(plant);
        }

        plantRepository.saveAll(plants);
    }

    private void generateUsersFile() throws IOException {
        try (FileWriter writer = new FileWriter("users.txt")) {
            writer.write("=== ADMINS ===\n");
            credentials.stream()
                .filter(Credential::isAdmin)
                .forEach(c -> writeCredential(writer, c));

            writer.write("\n=== USERS ===\n");
            credentials.stream()
                .filter(c -> !c.isAdmin())
                .forEach(c -> writeCredential(writer, c));
        }
    }

    private void writeCredential(FileWriter writer, Credential c) {
        try {
            writer.write(c.email + " " + c.password + "\n");
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    private static class Credential {
        String email;
        String password;
        boolean admin;

        public Credential(String email, String password, boolean admin) {
            this.email = email;
            this.password = password;
            this.admin = admin;
        }

        public boolean isAdmin() {
            return admin;
        }
    }
}

# src/main/java/com/planteshop/util/StringUtils.java
package com.planteshop.util;

public class StringUtils {
    public static String toCapitalCase(String text) {
        if (text == null || text.isEmpty()) {
            return text;
        }

        String[] words = text.split("\\s+");
        StringBuilder result = new StringBuilder();

        for (String word : words) {
            if (!word.isEmpty()) {
                result.append(Character.toUpperCase(word.charAt(0)))
                      .append(word.substring(1).toLowerCase())
                      .append(" ");
            }
        }

        return result.toString().trim();
    }
}

# src/main/java/com/planteshop/PlantShopApplication.java
package com.planteshop;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class PlantShopApplication {
    public static void main(String[] args) {
        SpringApplication.run(PlantShopApplication.class, args);
    }
}

# pom.xml
<project>
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.1.5</version>
    </parent>

    <groupId>com.planteshop</groupId>
    <artifactId>plant-shop-jpa-spring-boot-hibernate-security</artifactId>
    <version>1.0.0</version>

    <dependencies>
        <!-- PostgreSQL -->
        <dependency>
            <groupId>org.postgresql</groupId>
            <artifactId>postgresql</artifactId>
            <version>42.7.3</version>
            <!-- <scope>runtime</scope> -->
        </dependency>

        <!-- Faker (pour la seed) -->
        <dependency>
            <groupId>net.datafaker</groupId>
            <artifactId>datafaker</artifactId>
            <version>2.0.2</version>
        </dependency>

        <!-- Web + Thymeleaf -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-thymeleaf</artifactId>
        </dependency>
        <dependency>
            <groupId>nz.net.ultraq.thymeleaf</groupId>
            <artifactId>thymeleaf-layout-dialect</artifactId>
            <version>3.0.0</version>
        </dependency>

        <!-- JPA + Hibernate -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>

        <!-- Security -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-security</artifactId>
        </dependency>

        <!-- Bootstrap -->
        <dependency>
            <groupId>org.webjars</groupId>
            <artifactId>bootstrap</artifactId>
            <version>5.3.2</version>
        </dependency>
        <dependency>
            <groupId>org.webjars</groupId>
            <artifactId>webjars-locator</artifactId>
            <version>0.46</version>
        </dependency>
        <!-- Rechargement automatique -->
        <!-- <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-devtools</artifactId>
            <optional>true</optional>
        </dependency> -->
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>


# Tree du dossier
.
‚îú‚îÄ‚îÄ db
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ plant-shop.db
‚îú‚îÄ‚îÄ Makefile
‚îú‚îÄ‚îÄ pom.xml
‚îú‚îÄ‚îÄ projet.txt
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ script.sh
‚îú‚îÄ‚îÄ src
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ com
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ planteshop
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ config
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ SecurityConfig.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ controller
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ admin
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ api
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ ApiPlantController.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ exception
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ GlobalUserTypeAdvice.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ web
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ CartController.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ LoginController.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ ProfileController.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ RegistrationController.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ RequiredArgsConstructor.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ WebPlantController.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ model
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dto
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ request
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ response
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entity
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ CustomerOrder.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ OrderItem.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Plant.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ User.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ enums
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ RoleType.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ PlantShopApplication.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ repository
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ OrderRepository.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ PlantRepository.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ UserRepository.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ seed
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ DatabaseSeeder.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ service
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ impl
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ UserDetailsServiceImpl.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ util
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†             ‚îî‚îÄ‚îÄ StringUtils.java
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ resources
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ application.yml
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ db
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ migration
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ V1__init_schema.sql
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ static
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ css
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ style.css
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ favicon.svg
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.html
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ js
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ app.js
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ templates
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ admin
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ cart.html
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ fragments
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ base.html
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ navbar.html
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ login.html
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ orders
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ plants
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.html
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ show.html
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ profile.html
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ register.html
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ test
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ java
‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ com
‚îÇ¬†¬†             ‚îî‚îÄ‚îÄ planteshop
‚îÇ¬†¬†                 ‚îú‚îÄ‚îÄ controller
‚îÇ¬†¬†                 ‚îî‚îÄ‚îÄ service
‚îú‚îÄ‚îÄ target
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ classes
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ application.yml
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ com
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ planteshop
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ config
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ SecurityConfig.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ controller
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ admin
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ api
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ ApiPlantController.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ exception
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ GlobalUserTypeAdvice$1.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ GlobalUserTypeAdvice.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ web
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ CartController.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ LoginController.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ ProfileController.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ RegistrationController.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ RequiredArgsConstructor.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ WebPlantController.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ model
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dto
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ request
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ response
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entity
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ CustomerOrder.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ OrderItem.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Plant.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ User.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ enums
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ RoleType.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ PlantShopApplication.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ repository
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ OrderRepository.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ PlantRepository.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ UserRepository.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ seed
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ DatabaseSeeder$Credential.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ DatabaseSeeder.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ service
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ impl
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ UserDetailsServiceImpl.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ util
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ StringUtils.class
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ db
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ migration
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ V1__init_schema.sql
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ static
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ css
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ style.css
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ favicon.svg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.html
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ js
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ app.js
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ templates
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ cart.html
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ fragments
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ base.html
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ navbar.html
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ login.html
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ plants
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.html
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ show.html
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ profile.html
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ register.html
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ generated-sources
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ annotations
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ generated-test-sources
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ test-annotations
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ maven-archiver
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ pom.properties
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ maven-status
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ maven-compiler-plugin
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ compile
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ default-compile
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ createdFiles.lst
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ inputFiles.lst
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ testCompile
‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ default-testCompile
‚îÇ¬†¬† ‚îÇ¬†¬†             ‚îú‚îÄ‚îÄ createdFiles.lst
‚îÇ¬†¬† ‚îÇ¬†¬†             ‚îî‚îÄ‚îÄ inputFiles.lst
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ plant-shop-jpa-spring-boot-hibernate-security-1.0.0.jar
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ plant-shop-jpa-spring-boot-hibernate-security-1.0.0.jar.original
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ test-classes
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ com
‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ planteshop
‚îÇ¬†¬†             ‚îú‚îÄ‚îÄ controller
‚îÇ¬†¬†             ‚îî‚îÄ‚îÄ service
‚îú‚îÄ‚îÄ tmp.txt
‚îî‚îÄ‚îÄ users.txt

86 directories, 87 files
